# **YamRPC - Yandex Music Discord Rich Presence based on Python3 and WinSDK**
Discord RPC для показа музыки которую вы сейчас слушаете на компьютере через приложение Яндекс.Музыки.

![discord](./img/YamRPC.png)


Плюсы по сравнению с другими скриптами:    
- Не нужен токен Яндекс Музыки ✅  
- Показывает треки из подборок, радио ✅  
- Показывает статус паузы ✅  
- Находится только в трее ✅  
- Время не сбрасывается при запуске трека с паузы ✅  
- При паузе больше 5 минут убирает статус из RPC ✅  
- Восстанавливает время трека после паузы которая была больше 5 минут ✅
- Показывает сколько осталось до конца трека ✅

------------

Использование кодов: 
- https://github.com/FozerG/WinYandexMusicRPC
- https://github.com/MarshalX/yandex-music-api


------------
В случае закрытии Discord или приложения Yandex.Music требуется перезапуск модуля YamRPC (перед этим закрыть его в трее).


## Требования
Работа проверена только на Windows 11 и Windows 10, на других версиях и платформах работать не будет.

Если вы не будете использовать ехе файл то:
1. Python 3.10+


## Как использовать main.py?

1. Открываем терминал и идем в папку где находится файл `requirements.txt`. Пишем `pip install -r requirements.txt`, для того что бы установить зависимости.

2. В терминал пишем `python main.py`


## Баги
На данный момент багов не замечено, но бывают случаи когда музыку не получается найти по вине Яндекс Музыки. Такое бывает но редко.

## TODO
- Добавить поддержку Web-версии Яндекс.Музыки ❌
- Добавить мультиязычность ❌
- Добавить поодержку Spotify ❌
- Добавить автоматическую проверку запуска приложения Яндекс.Музыки и Discord, если не запущены, ставить на паузу ❌
- Сделать возможно автоматического запуска при старте ПК ❌
- Адаптировать для Linux ❌

## Сделано
- Вместо консоли сделать приложение в трее ✅  
- Если долгая пауза - убирать статус ✅  
- Сделать чтобы таймер не сбрасывался при паузе трека ✅    
- Улучшить поиск песен ✅   
------------

